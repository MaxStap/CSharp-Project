@using System.Data;
@{
    DataSet ds = Session["xmlDataSet"] as DataSet;
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";

   

}

<h2>Create</h2>

<form method="POST">
    <table>
        <tr>
            <td>id:</td>
            <td><input type="text"  name="id" placeholder="id"></td>
        </tr>

        <tr>
            <td>artist:</td>
            <td><input type="text" name="artist" placeholder="artist"></td>
        </tr>

        <tr>
            <td>songnaam:</td>
            <td><input type="text"  name="song" placeholder="songnaam"></td>
        </tr>

        <tr>
            <td>duur:</td>
            <td><input type="text" name="duration" placeholder="duur"></td>
        </tr>

        <tr>
            <td>categorie:</td>
            <td><input type="text" name="category" placeholder="categorie"></td>
        </tr>

        <tr>
            <td>jaar:</td>
            <td><input type="text" name="year" placeholder="jaar"></td>
        </tr>
        <tr>
            <td>link:</td>
            <td><input type="text" name="link" placeholder="Link"></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="submit" name="verzend" value="verzend"></td>
        </tr>

    </table>
</form>
@{
   
    if (IsPost)
    {
        DataRow dr = ds.Tables[0].NewRow();

        string a = Request.Form["link"].ToString();
        string b = a.Replace("watch?v=", "embed/");

        dr["id"] = Request.Form["id"];
        dr["artist"] = Request.Form["artist"];
        dr["song"] = Request.Form["song"];
        dr["duration"] = Request.Form["duration"];
        dr["category"] = Request.Form["category"];
        dr["year"] = Request.Form["year"];
        dr["link"] = b + "?autoplay=1";

        ds.Tables[0].Rows.Add(dr);

        ds.WriteXml(Server.MapPath(@"..\App_Data\songs.xml"));
    }




}